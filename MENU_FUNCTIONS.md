# 📋 메뉴 페이지별 기능 가이드

## 📑 목차
- [1. 전체 메뉴 구조](#1-전체-메뉴-구조)
- [2. 사용자 메뉴](#2-사용자-메뉴)
- [3. 관리자 메뉴](#3-관리자-메뉴)
- [4. 공통 메뉴](#4-공통-메뉴)
- [5. 페이지별 상세 기능](#5-페이지별-상세-기능)

---

## 1. 전체 메뉴 구조

### 1.1 사용자 (신청자) 메뉴 구조
```
로그인
  └─ 대시보드
      ├─ 새 신청하기
      ├─ 내 신청 목록
      └─ 내 정보
          └─ 비밀번호 변경
```

### 1.2 관리자 메뉴 구조
```
로그인
  └─ 관리자 대시보드
      ├─ 전체 신청 목록
      ├─ 통계 및 리포트
      └─ (각 신청 상세 관리)
```

---

## 2. 사용자 메뉴

### 2.1 로그인 페이지 (`/login`)

#### 📍 접근 경로
- URL: `?page=login`
- 권한: 비로그인 사용자

#### 🔧 주요 기능
1. **로그인**
   - 사용자 ID 입력
   - 비밀번호 입력
   - 로그인 버튼 클릭
   - 성공 시 역할별 대시보드로 자동 이동

#### 📊 표시 정보
- 로그인 폼
- 시스템 안내 문구

---

### 2.2 사용자 대시보드 (`/dashboard`)

#### 📍 접근 경로
- URL: `?page=dashboard` 또는 `?page=user`
- 권한: 로그인 사용자 (신청자)
- 메뉴: 상단 네비게이션 바

#### 🔧 주요 기능

##### 1. 통계 카드
- **신청 건수**: 전체 신청 건수 표시
- **진행중**: 현재 진행 중인 신청 건수
- **완료**: 처리 완료된 신청 건수
- **완료율**: 완료율 자동 계산 및 표시

##### 2. 최근 신청 내역
- 최근 5건의 신청 목록 표시
- 신청번호, 신청일시, 품명, 수량, 상태 표시
- 클릭 시 상세 페이지로 이동

##### 3. 알림
- 최근 7일 이내 상태 변경 알림
- 알림 개수 배지 표시
- 알림 클릭 시 관련 신청 상세 페이지로 이동

##### 4. 빠른 액션 버튼
- **새 신청하기**: 신청 등록 페이지로 이동
- **내 신청 목록**: 전체 신청 목록 페이지로 이동
- **내 정보**: 내 정보 페이지로 이동

#### 📊 표시 정보
- 사용자 이름 및 소속팀
- 통계 카드 (4개)
- 최근 신청 내역 테이블
- 알림 목록

#### 🔗 연결 페이지
- `?page=new-request` (새 신청하기)
- `?page=my-requests` (내 신청 목록)
- `?page=my-info` (내 정보)
- `?page=detail&requestNo=xxx` (신청 상세)

---

### 2.3 신청 등록 페이지 (`/new-request`)

#### 📍 접근 경로
- URL: `?page=new-request`
- 권한: 로그인 사용자 (신청자)
- 메뉴: 대시보드 → "새 신청하기" 버튼

#### 🔧 주요 기능

##### 1. 신청자 정보 (자동 입력)
- 이름, 소속팀, 지역 자동 표시 (읽기 전용)

##### 2. 부품 정보 입력
- **품명** (필수): 발주할 부품 이름
- **모델명** (선택): 부품 모델명
- **수량** (필수): 발주 수량 (최소 1)
- **관리번호** (필수): 장비 관리번호
- **시리얼번호** (선택): 시리얼번호

##### 3. 수령 정보 입력
- **수령지** (필수): 드롭다운 선택 또는 "기타" 입력
- **전화번호** (선택): 형식 검증 (01X-XXXX-XXXX)
- **업체명** (선택): 업체명

##### 4. 사진 첨부
- **사진** (필수): 이미지 파일 업로드
- 파일 형식: JPG, PNG, GIF
- 최대 크기: 5MB
- 미리보기 표시

##### 5. 비고
- **비고** (선택): 추가 메모

##### 6. 제출
- 유효성 검증 후 제출
- 성공 시 신청번호 표시 및 대시보드로 이동 버튼

#### 📊 입력 필드
| 필드 | 필수 | 유효성 검증 |
|------|------|------------|
| 품명 | ✅ | 최소 1자 |
| 수량 | ✅ | 정수, 최소 1 |
| 관리번호 | ✅ | 최소 1자 |
| 수령지 | ✅ | 선택 또는 입력 |
| 사진 | ✅ | 이미지 파일, 최대 5MB |
| 전화번호 | ❌ | 01X-XXXX-XXXX 형식 |

#### 🔗 연결 페이지
- `?page=dashboard` (대시보드로 이동)

---

### 2.4 내 신청 목록 (`/my-requests`)

#### 📍 접근 경로
- URL: `?page=my-requests`
- 권한: 로그인 사용자 (신청자)
- 메뉴: 대시보드 → "내 신청 목록" 버튼

#### 🔧 주요 기능

##### 1. 필터링
- **상태별 필터**: 전체, 접수중, 진행중, 완료, 취소
- **날짜 범위 필터** (선택): 시작일 ~ 종료일
- 실시간 필터링 (클라이언트 측)

##### 2. 통계 표시
- 상단에 통계 카드 표시
  - 접수중 건수
  - 진행중 건수
  - 완료 건수
  - 전체 건수

##### 3. 신청 목록 테이블
- 신청번호, 신청일시, 품명, 수량, 상태, 담당자 표시
- 상태별 뱃지 색상:
  - 접수중: 파란색
  - 진행중: 노란색
  - 완료: 초록색
  - 취소: 회색

##### 4. 액션
- **상세 보기**: 신청 상세 페이지로 이동
- **수령 확인** (조건부): 상태가 "발주완료"일 때만 표시

##### 5. 정렬
- 기본: 최신순 (신청일시 내림차순)

#### 📊 표시 정보
- 통계 카드 (4개)
- 필터 섹션
- 신청 목록 테이블

#### 🔗 연결 페이지
- `?page=detail&requestNo=xxx` (신청 상세)

---

### 2.5 신청 상세 페이지 (`/detail`)

#### 📍 접근 경로
- URL: `?page=detail&requestNo=xxx`
- 권한: 로그인 사용자 (본인 신청만)
- 메뉴: 내 신청 목록 → "상세 보기" 버튼

#### 🔧 주요 기능

##### 1. 신청 정보 표시 (읽기 전용)
- 신청번호, 신청일시
- 신청자 정보 (이름, 소속팀, 지역)
- 부품 정보 (품명, 모델명, 수량, 관리번호, 시리얼번호)
- 수령 정보 (수령지, 전화번호, 업체명)
- 비고
- 사진 표시

##### 2. 처리 현황
- 상태 진행바 표시
  ```
  접수중 → 접수완료 → 발주진행 → 발주완료 → 처리완료
  ```
- 현재 상태까지 하이라이트

##### 3. 처리 정보
- 담당자 이름
- 담당자 비고
- 발주일시
- 예상납기일
- 수령확인일시

##### 4. 액션
- **수령 확인** (조건부): 상태가 "발주완료"일 때만 표시
  - 클릭 시 상태를 "처리완료"로 변경
  - 수령확인일시 자동 기록
- **목록으로**: 내 신청 목록으로 이동

#### 📊 표시 정보
- 신청 정보 카드
- 상태 진행바
- 사진 미리보기
- 처리 정보

#### 🔗 연결 페이지
- `?page=my-requests` (목록으로)

---

### 2.6 내 정보 페이지 (`/my-info`)

#### 📍 접근 경로
- URL: `?page=my-info`
- 권한: 로그인 사용자
- 메뉴: 대시보드 → "내 정보" 버튼

#### 🔧 주요 기능

##### 1. 기본 정보 표시 (읽기 전용)
- 사용자 ID
- 이름
- 기사코드
- 소속팀
- 지역
- 역할

##### 2. 비밀번호 변경
- **현재 비밀번호** (필수)
- **새 비밀번호** (필수, 최소 6자)
- **새 비밀번호 확인** (필수, 새 비밀번호와 일치)
- 변경 버튼 클릭 시 검증 후 변경

##### 3. 네비게이션
- **뒤로**: 대시보드로 이동

#### 📊 표시 정보
- 기본 정보 카드
- 비밀번호 변경 폼

#### 🔗 연결 페이지
- `?page=dashboard` (뒤로)

---

## 3. 관리자 메뉴

### 3.1 관리자 대시보드 (`/admin-dashboard`)

#### 📍 접근 경로
- URL: `?page=admin` 또는 `?page=admin-dashboard`
- 권한: 관리자만
- 메뉴: 상단 네비게이션 바

#### 🔧 주요 기능

##### 1. 기간 선택
- **시작일/종료일** 입력
- **빠른 선택**: 오늘, 이번 주, 이번 달, 이번 분기
- 기본값: 이번 달

##### 2. 통계 카드
- **신규**: 선택 기간 내 신규 신청 건수
- **접수중**: 현재 접수중인 건수
- **진행중**: 발주 진행 중인 건수
- **지연**: 발주 지연 건수
- **완료**: 처리 완료 건수
- **전체**: 전체 신청 건수

##### 3. 긴급 처리 필요
- 상태가 "접수중"이고 신청일로부터 1일 이상 경과한 건
- 테이블 형식 표시
- 신청번호, 품명, 신청자, 신청일시 표시
- **처리** 버튼 클릭 시 상세 페이지로 이동

##### 4. 지연 건 모니터링
- 상태가 "발주진행" 또는 "발주지연"이고 발주일로부터 3일 이상 경과한 건
- 지연 일수 표시
- 신청번호, 품명, 신청자, 담당자, 지연일수 표시

##### 5. 빠른 액션 버튼
- **전체 신청 목록**: 전체 신청 목록 페이지로 이동
- **통계 및 리포트**: 통계 및 리포트 페이지로 이동

#### 📊 표시 정보
- 사용자 이름 (관리자)
- 기간 선택 필터
- 통계 카드 (6개)
- 긴급 처리 테이블
- 지연 건 테이블

#### 🔗 연결 페이지
- `?page=admin-requests` (전체 신청 목록)
- `?page=admin-statistics` (통계 및 리포트)
- `?page=admin-detail&requestNo=xxx` (신청 상세 관리)

---

### 3.2 전체 신청 목록 (`/admin-requests`)

#### 📍 접근 경로
- URL: `?page=admin-requests`
- 권한: 관리자만
- 메뉴: 관리자 대시보드 → "전체 신청 목록" 버튼

#### 🔧 주요 기능

##### 1. 필터링
- **상태별**: 전체, 접수중, 발주진행, 처리완료, 접수취소
- **지역별**: 전체, 서울, 부산, 대구, ...
- **날짜 범위**: 시작일 ~ 종료일
- 실시간 필터링 (클라이언트 측)

##### 2. 일괄 처리
- 체크박스로 다중 선택
- **전체 선택** 기능
- 일괄 상태 변경 (향후 구현 가능)
- 일괄 담당자 배정 (향후 구현 가능)

##### 3. 신청 목록 테이블
- 신청번호, 신청일시, 신청자, 지역, 품명, 수량, 관리번호, 담당자, 사진, 상태 표시
- 사진 미리보기 (클릭 시 확대)
- 상태별 뱃지 색상

##### 4. 액션
- **상세**: 신청 상세 관리 페이지로 이동
- **일괄 처리** (향후 구현)

##### 5. 검색 (향후 구현)
- 신청번호, 품명, 신청자명으로 검색

#### 📊 표시 정보
- 필터 섹션 (상태, 지역, 날짜)
- 일괄 선택 체크박스
- 신청 목록 테이블

#### 🔗 연결 페이지
- `?page=admin-detail&requestNo=xxx` (신청 상세 관리)
- `?page=admin-dashboard` (뒤로)

---

### 3.3 통계 및 리포트 (`/admin-statistics`)

#### 📍 접근 경로
- URL: `?page=admin-statistics`
- 권한: 관리자만
- 메뉴: 관리자 대시보드 → "통계 및 리포트" 버튼

#### 🔧 주요 기능

##### 1. 기간 선택
- **시작일/종료일** 입력
- **빠른 선택**: 오늘, 이번 주, 이번 달, 이번 분기, 올해
- 기본값: 최근 30일
- **조회** 버튼 클릭 시 데이터 갱신

##### 2. 통계 카드
- **총 신청 건수**: 선택 기간 내 전체 신청 건수
- **처리 완료**: 완료 건수 및 완료율
- **진행 중**: 진행 중 건수 및 비율
- **평균 처리일**: 완료 건들의 평균 처리 일수

##### 3. 차트 표시
- **도넛 차트**: 상태별 분포
  - 접수중, 진행중, 완료, 취소
- **막대 차트**: 지역별 통계
  - 서울, 부산, 대구, ...
- **선형 차트**: 일별 추이
  - X축: 날짜, Y축: 신청 건수

##### 4. 데이터 내보내기 (향후 구현)
- Excel 내보내기
- PDF 리포트 생성

#### 📊 표시 정보
- 기간 선택 필터
- 통계 카드 (4개)
- 차트 영역 (3개 차트)

#### 🔗 연결 페이지
- `?page=admin-dashboard` (뒤로)

---

### 3.4 신청 상세 관리 (`/admin-detail`)

#### 📍 접근 경로
- URL: `?page=admin-detail&requestNo=xxx`
- 권한: 관리자만
- 메뉴: 전체 신청 목록 → "상세" 버튼

#### 🔧 주요 기능

##### 1. 신청 정보 표시 (읽기 전용)
- 신청번호, 신청일시
- 신청자 정보 (이름, 소속팀, 지역)
- 부품 정보 (품명, 모델명, 수량, 관리번호, 시리얼번호)
- 수령 정보 (수령지, 전화번호, 업체명)
- 비고
- 사진 표시

##### 2. 관리자 액션 폼 (수정 가능)
- **상태 선택**: 드롭다운
  - 접수중, 접수완료, 발주진행, 발주지연, 발주완료, 처리완료, 접수취소
- **담당자 선택**: 드롭다운 (사용자 목록)
- **예상납기일**: 날짜 선택
- **담당자 비고**: 텍스트 영역

##### 3. 처리 정보 표시
- 발주일시 (자동 기록)
- 수령확인일시 (자동 기록)
- 최종수정일시
- 최종수정자

##### 4. 액션
- **저장**: 모든 변경사항 일괄 저장
  - 성공 모달 표시
- **강제 취소**: 신청 강제 취소
  - 취소 사유 입력 모달
- **목록으로**: 전체 신청 목록으로 이동

#### 📊 표시 정보
- 신청 정보 카드 (읽기 전용)
- 관리자 액션 폼
- 처리 정보

#### 🔗 연결 페이지
- `?page=admin-requests` (목록으로)

---

## 4. 공통 메뉴

### 4.1 상단 네비게이션 바

#### 공통 요소
- **시스템 로고/제목**: "🏠 부품발주시스템"
- **사용자 정보**: 사용자 이름 및 소속팀 표시
- **알림** (사용자만): 알림 아이콘 및 개수 배지
- **로그아웃**: 로그아웃 버튼

#### 사용자 페이지
```
🏠 부품발주시스템
  👤 사용자이름 (소속팀)  🔔 알림  [로그아웃]
```

#### 관리자 페이지
```
🏠 부품발주시스템 (관리자)
  👤 관리자이름  [로그아웃]
```

---

### 4.2 로그아웃

#### 📍 접근 경로
- 모든 페이지의 상단 네비게이션 바
- 권한: 로그인 사용자

#### 🔧 기능
1. **로그아웃 확인**: 확인 다이얼로그 표시
2. **세션 삭제**: 서버 세션 삭제
3. **로컬 저장소 정리**: `sessionStorage` 정리
4. **리다이렉션**: 로그인 페이지로 이동

---

## 5. 페이지별 상세 기능

### 5.1 필터링 기능

#### 사용자: 내 신청 목록
- **상태 필터**: 전체, 접수중, 진행중, 완료, 취소
- **날짜 범위**: 시작일 ~ 종료일 (선택)

#### 관리자: 전체 신청 목록
- **상태 필터**: 전체, 접수중, 발주진행, 처리완료, 접수취소
- **지역 필터**: 전체, 서울, 부산, 대구, ...
- **날짜 범위**: 시작일 ~ 종료일

#### 관리자: 통계 및 리포트
- **기간 선택**: 시작일 ~ 종료일
- **빠른 선택**: 오늘, 이번 주, 이번 달, 이번 분기, 올해

---

### 5.2 정렬 기능

#### 기본 정렬
- 모든 목록 페이지: 최신순 (신청일시 내림차순)

#### 향후 구현 가능
- 오래된순
- 상태순
- 신청자순

---

### 5.3 검색 기능

#### 현재 상태
- 검색 기능 미구현

#### 향후 구현 가능
- 신청번호 검색
- 품명 검색
- 신청자명 검색

---

### 5.4 일괄 처리 기능

#### 현재 상태
- 체크박스 선택 기능만 구현
- 일괄 처리 기능 미구현

#### 향후 구현 가능
- 일괄 상태 변경
- 일괄 담당자 배정
- 일괄 삭제 (취소)

---

### 5.5 내보내기 기능

#### 현재 상태
- 내보내기 기능 미구현

#### 향후 구현 가능
- Excel 내보내기
- PDF 리포트 생성
- CSV 내보내기

---

## 6. 권한별 접근 제어

### 6.1 사용자 (신청자) 권한

| 기능 | 권한 |
|------|------|
| 신청 등록 | ✅ 본인만 |
| 내 신청 목록 조회 | ✅ 본인 신청만 |
| 신청 상세 조회 | ✅ 본인 신청만 |
| 신청 취소 | ✅ 접수중 상태만 |
| 수령 확인 | ✅ 발주완료 상태만 |
| 비밀번호 변경 | ✅ 본인만 |

### 6.2 관리자 권한

| 기능 | 권한 |
|------|------|
| 전체 신청 목록 조회 | ✅ 모든 신청 |
| 신청 상세 조회 | ✅ 모든 신청 |
| 상태 변경 | ✅ 모든 상태 |
| 담당자 배정 | ✅ 가능 |
| 발주 정보 입력 | ✅ 가능 |
| 강제 취소 | ✅ 가능 |
| 통계 조회 | ✅ 가능 |
| 리포트 생성 | ✅ 가능 |

---

## 7. 네비게이션 흐름도

### 7.1 사용자 흐름
```
로그인
  ↓
대시보드
  ├─→ 새 신청하기 → 신청 등록 → (성공) → 대시보드
  ├─→ 내 신청 목록 → 신청 상세 → 목록으로
  └─→ 내 정보 → 비밀번호 변경 → 대시보드
```

### 7.2 관리자 흐름
```
로그인
  ↓
관리자 대시보드
  ├─→ 전체 신청 목록 → 신청 상세 관리 → 목록으로
  ├─→ 통계 및 리포트
  └─→ (긴급/지연 건) → 신청 상세 관리
```

---

## 8. 주요 기능 요약

### 8.1 사용자 주요 기능
1. ✅ 부품 발주 신청 등록
2. ✅ 내 신청 목록 조회 및 필터링
3. ✅ 신청 상세 조회
4. ✅ 수령 확인
5. ✅ 신청 취소 (접수중만)
6. ✅ 비밀번호 변경

### 8.2 관리자 주요 기능
1. ✅ 전체 신청 목록 조회 및 필터링
2. ✅ 신청 상태 변경
3. ✅ 담당자 배정
4. ✅ 발주 정보 입력
5. ✅ 강제 취소
6. ✅ 통계 조회
7. ✅ 리포트 생성 (차트)
8. ✅ 긴급/지연 건 모니터링

---

**최종 업데이트**: 2026-01-08  
**버전**: v1.0  
**상태**: ✅ Complete


