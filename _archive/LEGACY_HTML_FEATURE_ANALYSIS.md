# 기존 HTML 뷰 기준 기능 분석

`apps-script/Views/*.html` 에 정의된 기능을 기준으로, 현재 React 앱과의 대응·누락 여부를 정리한 문서입니다.

---

## 1. 로그인 (LoginPage.html)

| 기능 | HTML | React | 비고 |
|------|------|--------|------|
| 사용자 ID / 비밀번호 입력 | ✅ | ✅ | |
| 로그인 버튼, 로딩 표시 | ✅ | ✅ | |
| 역할별 리다이렉트 (관리자→admin-dashboard, 일반→dashboard) | ✅ | ✅ | redirectUrl |
| 안내사항 (info-box) | ✅ | ❌ | 선택 사항 |
| 모바일/가로모드 폰트·입력 크기 | ✅ | ❌ | CSS 변수·미디어쿼리 |
| 로그인 실패 시 URL ?error= 메시지 표시 | ✅ | ❌ | |

---

## 2. 사용자 대시보드 (UserDashboard.html)

| 기능 | HTML | React | 비고 |
|------|------|--------|------|
| 헤더: 사용자명, 소속팀, 로그아웃 | ✅ | ✅ | Layout |
| 알림 아이콘 + 배지(개수) | ✅ | ❌ | **누락** |
| 통계 카드: 접수중, 진행중, 완료, 전체 | ✅ | ✅ | |
| 배치 API getDashboardData (stats, recentRequests, notifications) | ✅ | ✅ | stats+recent 있음, notifications 별도 |
| 최근 신청 내역 테이블 (신청번호, 품명, 수량, 상태, 신청일, 상세) | ✅ | ✅ | |
| 중요 알림 (발주완료 시 수령 확인 안내 등) | ✅ | ❌ | **누락** |
| 빠른 액션: 새 신청 등록, 내 신청 목록, 내 정보 | ✅ | ✅ | |

---

## 3. 신청 등록 (NewRequestPage.html)

| 기능 | HTML | React | 비고 |
|------|------|--------|------|
| 신청자 정보 (읽기 전용): 이름, 소속팀, 지역 | ✅ | 이름·소속팀만 | 지역은 제거 요청 반영 |
| 부품 정보: 품명, 규격, 수량, 관리번호, 시리얼번호 | ✅ | ✅ | |
| 배송지: **소속팀(파트) 기준** getDeliveryPlaces(team) | ✅ | ✅ | |
| 배송지 옵션 **"기타" + 직접 입력** 필드 | ✅ | ❌ | **누락** |
| **가장 많이 사용한 배송지 자동 선택** (myRequests 빈도) | ✅ | ❌ | **누락** |
| 전화번호 입력 + 자동 포맷 (010-1234-5678) | ✅ | ✅ | 형식 검증만, 자동 포맷 없음 |
| 사진: **촬영 버튼** / 파일 선택, 미리보기, 삭제 | ✅ | 파일 선택만 | **촬영(capture)** 없음 |
| 비고 | ✅ | ✅ | |
| 중복 접수 시 confirm + 기존 신청 상세로 이동 | ✅ | ✅ | 메시지만, 이동은 사용자 선택 시 |
| 신청 완료 모달 후 대시보드 이동 | ✅ | ✅ | alert + navigate |

---

## 4. 내 신청 목록 (MyRequestsPage.html)

| 기능 | HTML | React | 비고 |
|------|------|--------|------|
| **키워드 검색** (신청번호, 품명, 관리번호) | ✅ | ❌ | **누락** |
| 상태 필터 select (전체/접수중/접수완료/…) | ✅ | ✅ | |
| 날짜 필터 (단일일) | ✅ | ✅ | React는 시작일·종료일 |
| **검색 버튼**으로 필터 적용 | ✅ | ✅ | React는 즉시 필터 |
| 상태별 탭 (전체, 접수중, 진행중, 완료) + 건수 배지 | ✅ | ✅ | |
| 테이블: 신청일, 품명, 수량, **관리번호**, 상태, 담당자, 액션 | ✅ | ✅ | React에도 관리번호 없음 → **추가 권장** |
| **페이징** (10건/페이지, 이전/다음/페이지번호) | ✅ | ❌ | **누락** |
| **컬럼 정렬** (신청일 등) | ✅ | ❌ | **누락** |
| 액션: 상세, 취소(접수중), 수령확인(발주완료) | ✅ | ✅ | |
| cancelRequest / confirmReceipt API | ✅ | ✅ | updateStatus로 동일 |

---

## 5. 신청 상세 (RequestDetailPage.html)

| 기능 | HTML | React | 비고 |
|------|------|--------|------|
| **상태 진행바** (접수중→…→처리완료 시각화) | ✅ | ❌ | **누락** |
| 신청 정보: 신청번호, 신청일시, 신청자, 현재 상태 | ✅ | ✅ | React에 지역 추가됨 |
| 부품 정보: 품명, 모델명, 수량, 관리번호, 시리얼번호 | ✅ | ✅ | |
| 수령 정보: 배송지, 전화번호, 업체명 | ✅ | ✅ | |
| 첨부 사진 미리보기 + 원본 보기 링크 | ✅ | ✅ | |
| **이미지 클릭/우클릭 → 클립보드 복사** | ✅ | ❌ | **누락** (선택) |
| 처리 정보: 접수담당자, 발주일시, 예상납기일, 수령확인일시, 담당자 비고 | ✅ | ✅ | |
| 액션: 신청 취소(접수중), 수령 확인(발주완료) | ✅ | ✅ | |

---

## 6. 내 정보 (MyInfoPage.html)

| 기능 | HTML | React | 비고 |
|------|------|--------|------|
| 기본 정보 (읽기 전용): 사용자ID, 이름, 기사코드, 소속팀, 지역, 역할 | ✅ | ✅ | |
| 비밀번호 변경: 현재 비밀번호, 새 비밀번호, 확인 | ✅ | ✅ | |

---

## 7. 관리자 대시보드 (AdminDashboardPage.html)

| 기능 | HTML | React | 비고 |
|------|------|--------|------|
| 조회 기간: 오늘/이번 주/이번 달/직접 선택 + 조회 버튼 | ✅ | ✅ | |
| 카드: 신규, 접수중, 진행중, 지연, 완료, 전체 | ✅ | ✅ | |
| 긴급 처리 필요 (접수중 + 1일 경과 등) 테이블 | ✅ | ✅ | urgent |
| 발주 지연 건 테이블 | ✅ | ✅ | delayed |
| 카드 클릭 시 해당 상태 필터로 전체 신청 목록 이동 | ✅ | ✅ | navigateToStatus |
| 기준정보 등록/관리, 전체 신청, 통계 링크 | ✅ | ✅ | |

---

## 8. 전체 신청 목록 (Admin 쪽 – HTML은 AdminDashboard 내 링크 또는 별도 뷰)

| 기능 | HTML | React (AdminRequests.jsx) | 비고 |
|------|------|---------------------------|------|
| 조회 조건: 상태, 지역, 시작일, 종료일 | ✅ | ✅ | |
| 테이블: 신청번호, 신청일, 신청자, 지역, 품명, 수량, 상태, 액션 | ✅ | ✅ | |
| 액션: 상세, 접수완료(접수중), 발주완료(접수완료) | ✅ | ✅ | |
| 담당자 비고 프롬프트, 취소 시 상태 변경 안 함 | ✅ | ✅ | 수정 반영 |

---

## 9. 신청 상세 관리 – 관리자 (AdminRequestDetailPage.html)

| 기능 | HTML | React (RequestDetail.jsx 관리자 영역) | 비고 |
|------|------|--------------------------------------|------|
| 상태 변경 select | ✅ | ✅ | |
| **담당자 배정** (접수담당자 select) | ✅ | ❌ | **누락** |
| **예상 납기일** 입력 | ✅ | ❌ | **누락** (표시만 있고 수정 없음) |
| 담당자 비고 | ✅ | ✅ | |
| **강제 취소** 버튼 | ✅ | ❌ | **누락** (접수취소로 동일 가능하나 버튼 명시 없음) |
| 저장 버튼 | ✅ | ✅ | |

---

## 10. 기준정보 등록/관리 (AdminMasterPage.html)

| 기능 | HTML | React (AdminMaster.jsx) | 비고 |
|------|------|--------------------------|------|
| 탭: 사용자 관리, 배송지 관리, Excel 마스터 | ✅ | ✅ | |
| 사용자 목록 테이블, 등록/수정 | ✅ | ✅ | |
| 배송지 목록 테이블, 등록/수정 | ✅ | ✅ | |
| Excel/CSV 가져오기 | ✅ | ✅ | |

---

## 11. 통계 및 리포트 (AdminStatisticsPage.html)

| 기능 | HTML | React (AdminStatistics.jsx) | 비고 |
|------|------|------------------------------|------|
| 조회 기간, 조회 버튼 | ✅ | ✅ | |
| 통계 카드, 차트 등 | ✅ | ✅ | 구현 범위는 코드 확인 필요 |

---

## 12. 기타 HTML 뷰

### UserPage.html (사용자 통합 페이지)
- **역할**: 로그인 후 사용자 영역의 한 페이지 뷰. **신규 신청 폼** + **내 신청 현황** 테이블을 한 화면에 표시.
- **React 대응**: 기능은 `NewRequest.jsx`(신규 신청)와 `MyRequests.jsx`(내 신청 목록)로 분리됨. UserPage는 “신청 + 목록” 통합 레이아웃이며, React는 메뉴로 각각 진입.

### Unauthorized.html (접근 권한 없음)
- **역할**: 권한 없을 때 표시. "접근 권한이 없습니다", "관리자에게 문의하여 사용자 등록을 요청해주세요", "다시 시도" 버튼.
- **React 대응**: 라우트 가드(`AuthContext` 등)로 비인가 시 로그인/대시보드로 리다이렉트. 별도 Unauthorized 전용 페이지는 없음(필요 시 추가 가능).

---

## 13. 요약 – React에서 구현 완료된 기능 (2025 반영)

다음 항목은 기존 HTML 대비 React에서 **구현 완료**되었습니다.

1. **사용자 대시보드**  
   - ✅ 알림 아이콘 + 배지 (Layout 헤더, GET /requests/notification-count)  
   - ✅ 중요 알림 영역 (발주완료 시 수령 확인 안내, dashboard API notifications)

2. **신청 등록**  
   - ✅ 배송지 **「기타」 + 직접 입력**  
   - ✅ **가장 많이 사용한 배송지 자동 선택** (myRequests 빈도 기반)  
   - ✅ 사진 **촬영(capture)** 버튼 + 파일 선택  
   - ✅ 전화번호 **자동 포맷** (010-1234-5678)

3. **내 신청 목록**  
   - ✅ **키워드 검색** (신청번호, 품명, 관리번호)  
   - ✅ **페이징** (10건/페이지, 이전/다음/페이지번호)  
   - ✅ **컬럼 정렬** (신청일 등)  
   - ✅ 테이블 **관리번호** 컬럼

4. **신청 상세**  
   - ✅ **상태 진행바** (접수 → 접수완료 → 발주완료 → 처리완료)  
   - ✅ 이미지 **클립보드 복사** (클릭/우클릭 + 버튼)

5. **관리자 신청 상세**  
   - ✅ **담당자 배정** (handler select, admin.users.list)  
   - ✅ **예상 납기일** 입력/수정 (PATCH status 옵션)  
   - ✅ **강제 취소** 버튼 (접수취소 + 사유)

6. **기타**  
   - ✅ 로그인 페이지 안내사항(info-box)  
   - ✅ 로그인 실패 시 URL `?error=` 메시지 표시  
   - ✅ Unauthorized 전용 페이지 (/unauthorized, 권한 없음 안내)

---

## 14. 데이터/API 대응

| HTML (Apps Script) | React (Node 백엔드) |
|--------------------|---------------------|
| getDashboardData(sessionToken) | GET /requests/dashboard + stats, recent, urgent, delayed |
| getMyRequests({}, sessionToken) | GET /requests/my |
| getDeliveryPlaces(team, sessionToken) | GET /codes/delivery-places?team= |
| createRequest(formData, sessionToken) | POST /requests/ |
| cancelRequest(requestNo, sessionToken) | PATCH /requests/:id/status → 접수취소 |
| confirmReceipt(requestNo, sessionToken) | PATCH /requests/:id/status → 처리완료 |
| updateStatus(requestNo, newStatus, remarks, user) | PATCH /requests/:id/status |

위 표를 기준으로, React 쪽에서 동일·유사 기능이 구현돼 있는지 비교하면 됩니다.
