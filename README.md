# ğŸ¢ ë¶€í’ˆ ë°œì£¼ ì‹œìŠ¤í…œ (Ordering Consumables System)

Google Apps Script ê¸°ë°˜ ë¶€í’ˆ ë°œì£¼ ê´€ë¦¬ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜

## ğŸ“‹ ëª©ì°¨
- [í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ì£¼ìš” í˜ì´ì§€](#-ì£¼ìš”-í˜ì´ì§€)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ë°°í¬](#-ë°°í¬)
- [ì„±ëŠ¥ ìµœì í™”](#-ì„±ëŠ¥-ìµœì í™”)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ì†Œê°œ

ë¶€í’ˆ ë°œì£¼ ì‹œìŠ¤í…œì€ ì¡°ì§ ë‚´ ë¶€í’ˆ ì‹ ì²­ ë° ë°œì£¼ í”„ë¡œì„¸ìŠ¤ë¥¼ ë””ì§€í„¸í™”í•˜ì—¬ íš¨ìœ¨ì„±ì„ ë†’ì´ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜
- âœ… **ê°„í¸í•œ ì‹ ì²­**: ì›¹ ê¸°ë°˜ ì–‘ì‹ìœ¼ë¡œ ì–¸ì œ ì–´ë””ì„œë‚˜ ì‹ ì²­ ê°€ëŠ¥
- âœ… **ì‹¤ì‹œê°„ ì¶”ì **: ì‹ ì²­ ìƒíƒœë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸
- âœ… **íš¨ìœ¨ì  ê´€ë¦¬**: ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œë¡œ í†µí•© ê´€ë¦¬
- âœ… **ë°ì´í„° ë¶„ì„**: í†µê³„ ë° ë¦¬í¬íŠ¸ ê¸°ëŠ¥
- âœ… **ë¬´ë£Œ í˜¸ìŠ¤íŒ…**: Google Apps Script í™œìš©

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### ğŸ‘¤ ì‚¬ìš©ì ê¸°ëŠ¥
1. **ì‹ ì²­ ë“±ë¡**
   - ë¶€í’ˆ ì •ë³´ ì…ë ¥ (í’ˆëª…, ëª¨ë¸ëª…, ìˆ˜ëŸ‰ ë“±)
   - ì‚¬ì§„ ì²¨ë¶€ (Google Drive ìë™ ì—…ë¡œë“œ)
   - ìˆ˜ë ¹ì§€ ë° ì—°ë½ì²˜ ê´€ë¦¬

2. **ì‹ ì²­ ë‚´ì—­ ì¡°íšŒ**
   - ë‚´ ì‹ ì²­ ëª©ë¡ í™•ì¸
   - ìƒíƒœë³„ í•„í„°ë§ (ì ‘ìˆ˜ì¤‘, ì²˜ë¦¬ì™„ë£Œ ë“±)
   - ìƒì„¸ ì •ë³´ ì¡°íšŒ

3. **ëŒ€ì‹œë³´ë“œ**
   - ì‹ ì²­ í†µê³„ (ì „ì²´, ì§„í–‰ì¤‘, ì™„ë£Œ)
   - ìµœê·¼ ì‹ ì²­ ë‚´ì—­
   - ì•Œë¦¼ í™•ì¸

4. **ë‚´ ì •ë³´ ê´€ë¦¬**
   - ì‚¬ìš©ì ì •ë³´ í™•ì¸
   - ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

### ğŸ‘¨â€ğŸ’¼ ê´€ë¦¬ì ê¸°ëŠ¥
1. **ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ**
   - ì „ì²´ í†µê³„ (ì¼ë³„/ì£¼ë³„/ì›”ë³„/ë¶„ê¸°ë³„)
   - ê¸´ê¸‰ ì²˜ë¦¬ í•„ìš” ê±´ í™•ì¸
   - ì§€ì—° ê±´ ëª¨ë‹ˆí„°ë§

2. **ì „ì²´ ì‹ ì²­ ëª©ë¡**
   - ëª¨ë“  ì‹ ì²­ ì¡°íšŒ ë° ê´€ë¦¬
   - ìƒíƒœë³„/ì§€ì—­ë³„ í•„í„°ë§
   - ì¼ê´„ ì²˜ë¦¬ ê¸°ëŠ¥

3. **ìƒì„¸ ê´€ë¦¬**
   - ìƒíƒœ ë³€ê²½ (ì ‘ìˆ˜ì¤‘ â†’ ë°œì£¼ì§„í–‰ â†’ ì²˜ë¦¬ì™„ë£Œ)
   - ë‹´ë‹¹ì ë°°ì •
   - ë°œì£¼ ì •ë³´ ì…ë ¥ (ë°œì£¼ì¼, ì˜ˆìƒë‚©ê¸°ì¼)
   - ë¹„ê³  ì‘ì„±

4. **í†µê³„ ë° ë¦¬í¬íŠ¸**
   - ìƒíƒœë³„ ë¶„í¬ ì°¨íŠ¸
   - ì§€ì—­ë³„ í†µê³„
   - ì¼ë³„ ì¶”ì´ ê·¸ë˜í”„
   - Excel ë‚´ë³´ë‚´ê¸°

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Frontend
- **HTML5 / CSS3 / JavaScript (ES6+)**
- **Bootstrap 5.3.2** - UI Framework
- **Chart.js 4.4.0** - ë°ì´í„° ì‹œê°í™”

### Backend
- **Google Apps Script** - ì„œë²„ë¦¬ìŠ¤ ë°±ì—”ë“œ
- **V8 Runtime** - JavaScript ì—”ì§„

### Database & Storage
- **Google Sheets** - ë°ì´í„°ë² ì´ìŠ¤
- **Google Drive** - íŒŒì¼ ì €ì¥ì†Œ
- **CacheService** - ì„¸ì…˜ ê´€ë¦¬

### Architecture
- **MVC Pattern** - ì•„í‚¤í…ì²˜ íŒ¨í„´
- **RESTful API** - API ë””ìì¸
- **Session-based Auth** - ì¸ì¦ ë°©ì‹

> ğŸ“š **ìƒì„¸í•œ ê¸°ìˆ  ìŠ¤íƒ ì •ë³´ëŠ” [TECH_STACK.md](./TECH_STACK.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.**

---

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. ì‚¬ì „ ì¤€ë¹„
- Google ê³„ì •
- Google Drive ì ‘ê·¼ ê¶Œí•œ
- ìµœì‹  ì›¹ ë¸Œë¼ìš°ì € (Chrome, Edge, Firefox, Safari)

### 2. í”„ë¡œì íŠ¸ ì„¤ì •

#### Google Sheets ì¤€ë¹„
1. Google Sheets ìƒˆ ìŠ¤í”„ë ˆë“œì‹œíŠ¸ ìƒì„±
2. ë‹¤ìŒ ì‹œíŠ¸ ìƒì„±:
   - `ì‹ ì²­ê´€ë¦¬` (25ê°œ ì»¬ëŸ¼)
   - `ì‚¬ìš©ìê´€ë¦¬` (8ê°œ ì»¬ëŸ¼)
   - `ì½”ë“œê´€ë¦¬_ìƒíƒœ`, `ì½”ë“œê´€ë¦¬_ì†Œì†íŒ€`, `ì½”ë“œê´€ë¦¬_ì§€ì—­`

#### Apps Script í”„ë¡œì íŠ¸ ìƒì„±
1. Google Sheetsì—ì„œ `í™•ì¥ í”„ë¡œê·¸ë¨` â†’ `Apps Script` í´ë¦­
2. í”„ë¡œì íŠ¸ íŒŒì¼ êµ¬ì¡° ìƒì„±
3. ì½”ë“œ ë³µì‚¬/ë¶™ì—¬ë„£ê¸°

#### ì„¤ì • íŒŒì¼ ìˆ˜ì •
```javascript
// Config.gs
const CONFIG = {
  SHEET_ID: 'YOUR_SHEET_ID',  // â† ë³€ê²½ í•„ìš”
  DRIVE_FOLDER_ID: 'YOUR_FOLDER_ID',  // â† ë³€ê²½ í•„ìš”
  // ...
};
```

### 3. ì´ˆê¸° ë°ì´í„° ì„¤ì •
```javascript
// Apps Script Editorì—ì„œ ì‹¤í–‰
function initializeSystem() {
  // 1. ê´€ë¦¬ì ê³„ì • ìƒì„±
  // 2. ì½”ë“œ ë°ì´í„° ì…ë ¥
  // 3. í…ŒìŠ¤íŠ¸ ë°ì´í„° ìƒì„± (ì„ íƒ)
}
```

### 4. ì›¹ ì•± ë°°í¬
1. Apps Script Editorì—ì„œ `ë°°í¬` â†’ `ìƒˆ ë°°í¬` í´ë¦­
2. ìœ í˜• ì„ íƒ: **ì›¹ ì•±**
3. ì„¤ì •:
   - ì‹¤í–‰ ê³„ì •: **ë‚˜**
   - ì—‘ì„¸ìŠ¤ ê¶Œí•œ: **ëª¨ë“  ì‚¬ìš©ì**
4. `ë°°í¬` í´ë¦­
5. ë°°í¬ URL ë³µì‚¬

### 5. ì ‘ì† ë° ë¡œê·¸ì¸
- ë°°í¬ URL ì ‘ì†
- ê¸°ë³¸ ê´€ë¦¬ì ê³„ì •:
  - ID: `admin`
  - PW: `admin`

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ordering_consumables/
â”œâ”€â”€ apps-script/
â”‚   â”œâ”€â”€ Code.gs                    # ë©”ì¸ ì»¨íŠ¸ë¡¤ëŸ¬ & ë¼ìš°íŒ…
â”‚   â”œâ”€â”€ Models.gs                  # ë°ì´í„° ëª¨ë¸ (RequestModel, UserModel)
â”‚   â”œâ”€â”€ Services.gs                # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (RequestService)
â”‚   â”œâ”€â”€ Auth.gs                    # ì¸ì¦ ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ Config.gs                  # ì„¤ì • íŒŒì¼
â”‚   â”œâ”€â”€ Utils.gs                   # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”œâ”€â”€ Triggers.gs                # ì‹œê°„ ê¸°ë°˜ íŠ¸ë¦¬ê±°
â”‚   â”œâ”€â”€ JavaScript.html            # ê³µí†µ JavaScript
â”‚   â”œâ”€â”€ Stylesheet.html            # ê³µí†µ CSS
â”‚   â””â”€â”€ Views/                     # HTML í…œí”Œë¦¿
â”‚       â”œâ”€â”€ LoginPage.html         # ë¡œê·¸ì¸ í˜ì´ì§€
â”‚       â”œâ”€â”€ UserDashboard.html     # ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ
â”‚       â”œâ”€â”€ AdminDashboard.html    # ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
â”‚       â”œâ”€â”€ NewRequestPage.html    # ì‹ ì²­ ë“±ë¡ í˜ì´ì§€
â”‚       â”œâ”€â”€ MyRequestsPage.html    # ë‚´ ì‹ ì²­ ëª©ë¡
â”‚       â”œâ”€â”€ AdminPage.html         # ì „ì²´ ì‹ ì²­ ëª©ë¡
â”‚       â”œâ”€â”€ AdminStatisticsPage.html  # í†µê³„ í˜ì´ì§€
â”‚       â”œâ”€â”€ AdminRequestDetailPage.html  # ê´€ë¦¬ì ìƒì„¸ í˜ì´ì§€
â”‚       â”œâ”€â”€ RequestDetailPage.html  # ì‚¬ìš©ì ìƒì„¸ í˜ì´ì§€
â”‚       â””â”€â”€ MyInfoPage.html        # ë‚´ ì •ë³´ í˜ì´ì§€
â”œâ”€â”€ TECH_STACK.md                  # ê¸°ìˆ  ìŠ¤íƒ ìƒì„¸ ë¬¸ì„œ
â”œâ”€â”€ README.md                      # í”„ë¡œì íŠ¸ README
â””â”€â”€ .gitignore
```

---

## ğŸ“„ ì£¼ìš” í˜ì´ì§€

### 1. ë¡œê·¸ì¸ í˜ì´ì§€ (`/exec?page=login`)
- ì‚¬ìš©ì ID/PW ì…ë ¥
- ì„¸ì…˜ í† í° ìƒì„± ë° ì €ì¥
- ì—­í• ë³„ ëŒ€ì‹œë³´ë“œë¡œ ë¦¬ë‹¤ì´ë ‰ì…˜

### 2. ì‚¬ìš©ì ëŒ€ì‹œë³´ë“œ (`/exec?page=dashboard`)
- ì‹ ì²­ í†µê³„ ì¹´ë“œ
- ìµœê·¼ ì‹ ì²­ ë‚´ì—­ (ìµœëŒ€ 5ê±´)
- ì•Œë¦¼ ëª©ë¡
- **ë¡œë“œ ì‹œê°„**: ~800ms

### 3. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ (`/exec?page=admin-dashboard`)
- ê¸°ê°„ë³„ í†µê³„ (ì¼ë³„/ì£¼ë³„/ì›”ë³„/ë¶„ê¸°ë³„)
- ê¸´ê¸‰ ì²˜ë¦¬ í•„ìš” ê±´ (1ì¼ ì´ìƒ ê²½ê³¼)
- ì§€ì—° ê±´ (3ì¼ ì´ìƒ ê²½ê³¼)
- **ë¡œë“œ ì‹œê°„**: ~1200ms

### 4. ì „ì²´ ì‹ ì²­ ëª©ë¡ (`/exec?page=admin-requests`)
- ëª¨ë“  ì‹ ì²­ ì¡°íšŒ
- í•„í„°ë§ (ìƒíƒœ, ì§€ì—­, ë‚ ì§œ)
- ì¼ê´„ ì²˜ë¦¬ (ìƒíƒœ ë³€ê²½, ë‹´ë‹¹ì ë°°ì •)
- **ë¡œë“œ ì‹œê°„**: ~1200ms

### 5. í†µê³„ ë° ë¦¬í¬íŠ¸ (`/exec?page=admin-statistics`)
- Chart.js ì°¨íŠ¸ (ë„ë„›, ë§‰ëŒ€, ì„ í˜•)
- ìƒíƒœë³„/ì§€ì—­ë³„ ë¶„í¬
- ì¼ë³„ ì¶”ì´ ë¶„ì„
- **ë¡œë“œ ì‹œê°„**: ~1000ms

---

## ğŸ”Œ API ë¬¸ì„œ

### ì¸ì¦ API
```javascript
// ë¡œê·¸ì¸
login(userId, password)
// Returns: sessionToken (string)

// í˜„ì¬ ì‚¬ìš©ì ì¡°íšŒ
getCurrentUser(sessionToken)
// Returns: { userId, name, team, region, role, ... }
```

### ì‹ ì²­ ê´€ë¦¬ API
```javascript
// ì‹ ì²­ ìƒì„±
createRequest(requestData, sessionToken)
// Returns: { success: boolean, requestNo: string }

// ì‹ ì²­ ì¡°íšŒ (ë‹¨ê±´)
getRequest(requestNo, sessionToken)
// Returns: { requestNo, requestDate, status, ... }

// ì‹ ì²­ ëª©ë¡ ì¡°íšŒ
getAllRequests(filter, sessionToken)
// Returns: Array of requests

// ë‚´ ì‹ ì²­ ëª©ë¡
getMyRequests(filter, sessionToken)
// Returns: Array of requests

// ì‹ ì²­ ìˆ˜ì •
updateRequest(requestNo, updates, sessionToken)
// Returns: { success: boolean }

// ìƒíƒœ ë³€ê²½
updateRequestStatus(requestNo, status, remarks, sessionToken)
// Returns: { success: boolean }
```

### í†µê³„ API
```javascript
// ëŒ€ì‹œë³´ë“œ í†µê³„
getDashboardStats(sessionToken)
// Returns: { today: { new, requested, inProgress, ... } }

// ê¸´ê¸‰ ê±´ ì¡°íšŒ
getUrgentRequests(sessionToken)
// Returns: Array of urgent requests

// ì§€ì—° ê±´ ì¡°íšŒ
getDelayedRequests(sessionToken)
// Returns: Array of delayed requests
```

### ì‚¬ìš©ì ê´€ë¦¬ API
```javascript
// ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
changePassword(oldPassword, newPassword, sessionToken)
// Returns: { success: boolean }
```

---

## ğŸš€ ë°°í¬

### ê°œë°œ í™˜ê²½
```bash
1. Google Apps Script Editorì—ì„œ ê°œë°œ
2. í…ŒìŠ¤íŠ¸: "ë°°í¬" â†’ "í…ŒìŠ¤íŠ¸ ë°°í¬" ì‹¤í–‰
3. ê°œë°œ URLë¡œ í…ŒìŠ¤íŠ¸
```

### í”„ë¡œë•ì…˜ ë°°í¬
```bash
1. "ë°°í¬" â†’ "ë°°í¬ ê´€ë¦¬" í´ë¦­
2. ê¸°ì¡´ ë°°í¬ê°€ ìˆìœ¼ë©´ "ì—°í•„ ì•„ì´ì½˜" í´ë¦­
3. "ìƒˆ ë²„ì „" ì„ íƒ
4. ì„¤ëª… ì…ë ¥ (ì˜ˆ: "v11.0 - ì„±ëŠ¥ ìµœì í™”")
5. "ë°°í¬" í´ë¦­
6. ë°°í¬ URL í™•ì¸
```

### ë²„ì „ ê´€ë¦¬
```
v1.0 - ì´ˆê¸° ë²„ì „ (ê¸°ë³¸ ê¸°ëŠ¥)
v2.0 - ê´€ë¦¬ì í˜ì´ì§€ ì¶”ê°€
v3.0 - í†µê³„ í˜ì´ì§€ ì¶”ê°€
v4.0 - ë‚ ì§œ í•„í„°ë§ ìˆ˜ì •
v5.0 - ì „ì²´ í˜ì´ì§€ ë””ë²„ê¹…
v6.0 - sessionStorage ë°©ì‹ ë„ì…
v7.0 - getRequest ë””ë²„ê¹…
v8.0 - Models.findById ë¡œê·¸ ì¶”ê°€
v9.0 - getRequest Date ì§ë ¬í™” ìˆ˜ì •
v10.0 - ì„±ëŠ¥ ìµœì í™” (ë¡œê·¸ ì œê±°, ë³‘ë ¬í™”)
v11.0 - ì „ì²´ í˜ì´ì§€ ìºì‹± ë° ìµœì í™” ì™„ë£Œ âœ…
```

---

## âš¡ ì„±ëŠ¥ ìµœì í™”

### ìµœì í™” ê²°ê³¼
| í˜ì´ì§€ | Before | After | ê°œì„ ìœ¨ |
|--------|--------|-------|--------|
| UserDashboard | 3000ms | 800ms | 3.75x âš¡ |
| AdminDashboard | 3500ms | 1200ms | 2.9x âš¡ |
| MyRequestsPage | 2500ms | 900ms | 2.8x âš¡ |
| AdminPage | 3000ms | 1200ms | 2.5x âš¡ |
| RequestDetail | 1500ms | 600ms | 2.5x âš¡ |
| NewRequest | 1000ms | 300ms | 3.3x âš¡ |

### ìµœì í™” ê¸°ë²•
1. **ë””ë²„ê¹… ë¡œê·¸ ìµœì†Œí™”**: 252ê°œ â†’ 10ê°œ ì´í•˜
2. **API í˜¸ì¶œ ë³‘ë ¬í™”**: `Promise.all()` í™œìš©
3. **í´ë¼ì´ì–¸íŠ¸ ìºì‹±**: `sessionStorage` í™œìš©
4. **Date ì§ë ¬í™”**: Date ê°ì²´ â†’ ë¬¸ìì—´ ë³€í™˜
5. **ì„±ëŠ¥ ì¸¡ì •**: `performance.now()` í™œìš©

---

## ğŸ”’ ë³´ì•ˆ

### ì¸ì¦ & ê¶Œí•œ
- âœ… ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦ (CacheService)
- âœ… ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)
- âœ… SHA-256 ë¹„ë°€ë²ˆí˜¸ í•´ì‹±
- âœ… XSS ë°©ì§€ (HTML ì´ìŠ¤ì¼€ì´í”„)

### ë°ì´í„° ë³´í˜¸
- âœ… Google ê³„ì • ì¸ì¦ í•„ìˆ˜
- âœ… HTTPS í†µì‹  (Google ê¸°ë³¸ ì œê³µ)
- âœ… ì„¸ì…˜ íƒ€ì„ì•„ì›ƒ (6ì‹œê°„)

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.

---

## ğŸ‘¥ ê¸°ì—¬

ë²„ê·¸ ë¦¬í¬íŠ¸, ê¸°ëŠ¥ ì œì•ˆ, Pull Requestë¥¼ í™˜ì˜í•©ë‹ˆë‹¤!

---

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.

---

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-01-08  
**ë²„ì „**: v11.0  
**ìƒíƒœ**: âœ… Production Ready
